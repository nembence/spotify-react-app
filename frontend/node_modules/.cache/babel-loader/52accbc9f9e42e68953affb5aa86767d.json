{"ast":null,"code":"import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport token from \"./token\";\n\nconst useFetch = url => {\n  const [status, setStatus] = useState(\"\");\n  const [fetchedData, setData] = useState([]);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    setStatus(\"loading\");\n    const accessToken = token.getToken().data;\n    console.log(accessToken);\n    axios.get(url, {\n      headers: {\n        Authorization: \"Bearer \" + accessToken\n      }\n    }).then(response => {\n      setData(response.data);\n      setStatus(\"loaded\");\n    }).catch(error => {\n      console.log(error.response.status);\n      setStatus(\"error\");\n      setError(error.response.data);\n    });\n  }, [url]);\n  return [status, error, fetchedData];\n};\n\nexport default useFetch;","map":{"version":3,"sources":["/home/mag/Documents/codecool/advanced/spotify-react-app/src/utilities/useFetch.js"],"names":["useState","useEffect","axios","token","useFetch","url","status","setStatus","fetchedData","setData","error","setError","accessToken","getToken","data","console","log","get","headers","Authorization","then","response","catch"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,SAAlB;;AAEA,MAAMC,QAAQ,GAAIC,GAAD,IAAS;AACtB,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBP,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACQ,WAAD,EAAcC,OAAd,IAAyBT,QAAQ,CAAC,EAAD,CAAvC;AACA,QAAM,CAACU,KAAD,EAAQC,QAAR,IAAoBX,QAAQ,CAAC,IAAD,CAAlC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACZM,IAAAA,SAAS,CAAC,SAAD,CAAT;AACA,UAAMK,WAAW,GAAGT,KAAK,CAACU,QAAN,GAAiBC,IAArC;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYJ,WAAZ;AACAV,IAAAA,KAAK,CACAe,GADL,CACSZ,GADT,EACc;AACNa,MAAAA,OAAO,EAAE;AACLC,QAAAA,aAAa,EAAE,YAAYP;AADtB;AADH,KADd,EAMKQ,IANL,CAMWC,QAAD,IAAc;AAChBZ,MAAAA,OAAO,CAACY,QAAQ,CAACP,IAAV,CAAP;AACAP,MAAAA,SAAS,CAAC,QAAD,CAAT;AACH,KATL,EAUKe,KAVL,CAUYZ,KAAD,IAAW;AACdK,MAAAA,OAAO,CAACC,GAAR,CAAYN,KAAK,CAACW,QAAN,CAAef,MAA3B;AACAC,MAAAA,SAAS,CAAC,OAAD,CAAT;AACAI,MAAAA,QAAQ,CAACD,KAAK,CAACW,QAAN,CAAeP,IAAhB,CAAR;AACH,KAdL;AAeH,GAnBQ,EAmBN,CAACT,GAAD,CAnBM,CAAT;AAqBA,SAAO,CAACC,MAAD,EAASI,KAAT,EAAgBF,WAAhB,CAAP;AACH,CA3BD;;AA6BA,eAAeJ,QAAf","sourcesContent":["import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport token from \"./token\";\n\nconst useFetch = (url) => {\n    const [status, setStatus] = useState(\"\");\n    const [fetchedData, setData] = useState([]);\n    const [error, setError] = useState(null);\n\n    useEffect(() => {\n        setStatus(\"loading\");\n        const accessToken = token.getToken().data;\n        console.log(accessToken);\n        axios\n            .get(url, {\n                headers: {\n                    Authorization: \"Bearer \" + accessToken,\n                },\n            })\n            .then((response) => {\n                setData(response.data);\n                setStatus(\"loaded\");\n            })\n            .catch((error) => {\n                console.log(error.response.status);\n                setStatus(\"error\");\n                setError(error.response.data);\n            });\n    }, [url]);\n\n    return [status, error, fetchedData];\n};\n\nexport default useFetch;\n"]},"metadata":{},"sourceType":"module"}