{"ast":null,"code":"import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport token from \"./token\";\n\nconst useFetch = url => {\n  const [status, setStatus] = useState(\"\");\n  const [fetchedData, setData] = useState([]);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    setStatus(\"loading\");\n    token.getToken().then(data => {\n      axios.get(url, {\n        headers: {\n          Authorization: \"Bearer \" + data\n        }\n      }).then(response => {\n        setData(response.data);\n        setStatus(\"loaded\");\n      }).catch(error => {\n        console.log(error.response.status);\n        setStatus(\"error\");\n        setError(error.response.data);\n      });\n    });\n  }, [url]); // const fetchData = (data) => {\n  //     axios\n  //         .get(url, {\n  //             headers: {\n  //                 Authorization: \"Bearer \" + data,\n  //             },\n  //         })\n  //         .then((response) => {\n  //             setData(response.data);\n  //             setStatus(\"loaded\");\n  //         })\n  //         .catch((error) => {\n  //             console.log(error.response.status);\n  //             setStatus(\"error\");\n  //             setError(error.response.data);\n  //         });\n  // };\n\n  return [status, error, fetchedData];\n};\n\nexport default useFetch;","map":{"version":3,"sources":["/home/mag/Documents/codecool/advanced/spotify-react-app/src/utilities/useFetch.js"],"names":["useState","useEffect","axios","token","useFetch","url","status","setStatus","fetchedData","setData","error","setError","getToken","then","data","get","headers","Authorization","response","catch","console","log"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,SAAlB;;AAEA,MAAMC,QAAQ,GAAIC,GAAD,IAAS;AACtB,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBP,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACQ,WAAD,EAAcC,OAAd,IAAyBT,QAAQ,CAAC,EAAD,CAAvC;AACA,QAAM,CAACU,KAAD,EAAQC,QAAR,IAAoBX,QAAQ,CAAC,IAAD,CAAlC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACZM,IAAAA,SAAS,CAAC,SAAD,CAAT;AACAJ,IAAAA,KAAK,CAACS,QAAN,GAAiBC,IAAjB,CAAuBC,IAAD,IAAU;AAC5BZ,MAAAA,KAAK,CACAa,GADL,CACSV,GADT,EACc;AACNW,QAAAA,OAAO,EAAE;AACLC,UAAAA,aAAa,EAAE,YAAYH;AADtB;AADH,OADd,EAMKD,IANL,CAMWK,QAAD,IAAc;AAChBT,QAAAA,OAAO,CAACS,QAAQ,CAACJ,IAAV,CAAP;AACAP,QAAAA,SAAS,CAAC,QAAD,CAAT;AACH,OATL,EAUKY,KAVL,CAUYT,KAAD,IAAW;AACdU,QAAAA,OAAO,CAACC,GAAR,CAAYX,KAAK,CAACQ,QAAN,CAAeZ,MAA3B;AACAC,QAAAA,SAAS,CAAC,OAAD,CAAT;AACAI,QAAAA,QAAQ,CAACD,KAAK,CAACQ,QAAN,CAAeJ,IAAhB,CAAR;AACH,OAdL;AAeH,KAhBD;AAiBH,GAnBQ,EAmBN,CAACT,GAAD,CAnBM,CAAT,CALsB,CA0BtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAAO,CAACC,MAAD,EAASI,KAAT,EAAgBF,WAAhB,CAAP;AACH,CA7CD;;AA+CA,eAAeJ,QAAf","sourcesContent":["import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport token from \"./token\";\n\nconst useFetch = (url) => {\n    const [status, setStatus] = useState(\"\");\n    const [fetchedData, setData] = useState([]);\n    const [error, setError] = useState(null);\n\n    useEffect(() => {\n        setStatus(\"loading\");\n        token.getToken().then((data) => {\n            axios\n                .get(url, {\n                    headers: {\n                        Authorization: \"Bearer \" + data,\n                    },\n                })\n                .then((response) => {\n                    setData(response.data);\n                    setStatus(\"loaded\");\n                })\n                .catch((error) => {\n                    console.log(error.response.status);\n                    setStatus(\"error\");\n                    setError(error.response.data);\n                });\n        });\n    }, [url]);\n\n    // const fetchData = (data) => {\n    //     axios\n    //         .get(url, {\n    //             headers: {\n    //                 Authorization: \"Bearer \" + data,\n    //             },\n    //         })\n    //         .then((response) => {\n    //             setData(response.data);\n    //             setStatus(\"loaded\");\n    //         })\n    //         .catch((error) => {\n    //             console.log(error.response.status);\n    //             setStatus(\"error\");\n    //             setError(error.response.data);\n    //         });\n    // };\n\n    return [status, error, fetchedData];\n};\n\nexport default useFetch;\n"]},"metadata":{},"sourceType":"module"}